<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-framework" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Framework | Apache Curator</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://curator.apache.org/img/curator-highres.png"><meta data-rh="true" name="twitter:image" content="https://curator.apache.org/img/curator-highres.png"><meta data-rh="true" property="og:url" content="https://curator.apache.org/docs/framework"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Framework | Apache Curator"><meta data-rh="true" name="description" content="The Curator Framework is a high-level API that greatly simplifies using ZooKeeper. It adds many features that build on ZooKeeper and handles the complexity of managing connections to the ZooKeeper cluster and retrying operations. Some of the features are:"><meta data-rh="true" property="og:description" content="The Curator Framework is a high-level API that greatly simplifies using ZooKeeper. It adds many features that build on ZooKeeper and handles the complexity of managing connections to the ZooKeeper cluster and retrying operations. Some of the features are:"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://curator.apache.org/docs/framework"><link data-rh="true" rel="alternate" href="https://curator.apache.org/docs/framework" hreflang="en"><link data-rh="true" rel="alternate" href="https://curator.apache.org/docs/framework" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.e4faddb9.css">
<script src="/assets/js/runtime~main.58d71aef.js" defer="defer"></script>
<script src="/assets/js/main.cd627d7d.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/curator-logo.svg"><link rel="preload" as="image" href="/img/asf-logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent__ykh" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/curator-logo.svg" alt="Apache Curator" class="themedComponent_m3XX themedComponent--light_pEIZ"><img src="/img/curator-logo.svg" alt="Apache Curator" class="themedComponent_m3XX themedComponent--dark_s0QP"></div></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/about">Documentation</a><a class="navbar__item navbar__link" href="/community/">Community</a><a class="navbar__item navbar__link" href="/download">Download</a><a href="https://github.com/apache/curator" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="navbarSearchContainer__EV5"><div class="navbar__search searchBarContainer_PdeX" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_Qq0j" value=""><div class="loadingRing_pDlv searchBarLoadingRing_Qjsv"><div></div><div></div><div></div><div></div></div></div></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">ASF</a><ul class="dropdown__menu"><li><a href="https://www.apache.org/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Foundation</a></li><li><a href="https://www.apache.org/licenses/" target="_blank" rel="noopener noreferrer" class="dropdown__link">License</a></li><li><a href="https://www.apache.org/events/current-event.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Events</a></li><li><a href="https://www.apache.org/security/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Security</a></li><li><a href="https://www.apache.org/foundation/sponsorship.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Sponsorship</a></li><li><a href="https://privacy.apache.org/policies/privacy-policy-public.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Privacy</a></li><li><a href="https://www.apache.org/foundation/thanks.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Thanks</a></li></ul></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_jIGz"><div class="docsWrapper_CU5Z"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_ZtM3" type="button"></button><div class="docRoot_ejYB"><aside class="theme-doc-sidebar-container docSidebarContainer_Al8w"><div class="sidebarViewport_O55j"><div class="sidebar_iJAe"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_Rfjl"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/about">About</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/getting-started">Getting Started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/examples">Examples</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/recipes">Recipes</a><button aria-label="Expand sidebar category &#x27;Recipes&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/async">Curator Async</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/modeled">Strongly Typed Models</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/migrations">Migrations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/schema">Schema Support</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menuHtmlItem_wdnV menu__list-item">LOW LEVEL</li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/framework">Framework</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/utilities">Utilities</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/client">Client</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menuHtmlItem_wdnV menu__list-item">DETAILS</li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/errors">Error Handling</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/logging">Logging and Tracing</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/tech-notes">Tech Notes</a><button aria-label="Expand sidebar category &#x27;Tech Notes&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/zk-compatibility-34">ZooKeeper 3.4.x</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/breaking-changes">Breaking Changes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a href="/apidocs/" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_Rchn">Javadoc<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_LswR"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a href="https://cwiki.apache.org/confluence/display/CURATOR" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_Rchn">Wiki<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_LswR"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menuHtmlItem_wdnV menu__list-item">EXTENSIONS</li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/service-discovery">Service Discovery</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/service-discovery-server">Service Discovery Server</a></li></ul></nav></div></div></aside><main class="docMainContainer_qoEX"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_UxVz"><div class="docItemContainer__lI8"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_o7Hf" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_xYCW"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Framework</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_OfjK theme-doc-toc-mobile tocMobile_oqXL"><button type="button" class="clean-btn tocCollapsibleButton_DPMZ">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Framework</h1></header>
<p>The Curator Framework is a high-level API that greatly simplifies using ZooKeeper. It adds many features that build on ZooKeeper and handles the complexity of managing connections to the ZooKeeper cluster and retrying operations. Some of the features are:</p>
<ul>
<li>Automatic connection management:<!-- -->
<ul>
<li>There are potential error cases that require ZooKeeper clients to recreate a connection and/or retry operations. Curator automatically and transparently (mostly) handles these cases.</li>
<li>Watches for NodeDataChanged events and calls updateServerList() as needed.</li>
<li>Watches are automatically removed by Curator recipes</li>
</ul>
</li>
<li>Cleaner API:<!-- -->
<ul>
<li>simplifies the raw ZooKeeper methods, events, etc.</li>
<li>provides a modern, fluent interface</li>
</ul>
</li>
<li>Recipe implementations (see <a href="/docs/recipes">Recipes</a>):<!-- -->
<ul>
<li>Leader election</li>
<li>Shared lock</li>
<li>Path cache and watcher</li>
<li>Distributed Queue</li>
<li>Distributed Priority Queue</li>
<li>...</li>
</ul>
</li>
</ul>
<p>A Java 8 asynchronous version of CuratorFramework is also available: <a href="/docs/async">Curator Async</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_XIDd" id="allocating-a-curator-framework-instance">Allocating a Curator Framework Instance<a href="#allocating-a-curator-framework-instance" class="hash-link" aria-label="Direct link to Allocating a Curator Framework Instance" title="Direct link to Allocating a Curator Framework Instance">​</a></h2>
<p>CuratorFrameworks are allocated using the CuratorFrameworkFactory which provides both factory methods and a builder for creating instances. IMPORTANT: CuratorFramework instances are fully thread-safe. You should share one CuratorFramework per ZooKeeper cluster in your application.</p>
<p>The factory methods (newClient()) provide a simplified way of creating an instance. The Builder gives control over all parameters. Once you have a CuratorFramework instance, you must call the start() method. At the end of your application, you should call close().</p>
<h2 class="anchor anchorWithStickyNavbar_XIDd" id="curatorframework-api">CuratorFramework API<a href="#curatorframework-api" class="hash-link" aria-label="Direct link to CuratorFramework API" title="Direct link to CuratorFramework API">​</a></h2>
<p>The CuratorFramework uses a Fluent-style interface. Operations are constructed using builders returned by the CuratorFramework instance. When strung together, the methods form sentence-like statements. e.g.,</p>
<div class="language-java codeBlockContainer_zg1e theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_dr23"><pre tabindex="0" class="prism-code language-java codeBlock_oepx thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_trqM"><span class="token-line" style="color:#393A34"><span class="token plain">client</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">create</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">forPath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;/head&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">byte</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">client</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">delete</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">inBackground</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">forPath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;/head&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">client</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">create</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">withMode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">CreateMode</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">EPHEMERAL_SEQUENTIAL</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">forPath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;/head/child&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">byte</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">client</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getData</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">watched</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">inBackground</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">forPath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;/test&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_IAv4"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_OqTK" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_soyf"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_z_DP"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_XIDd" id="methods">Methods<a href="#methods" class="hash-link" aria-label="Direct link to Methods" title="Direct link to Methods">​</a></h3>
<table><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody><tr><td>create()</td><td>Begins a create operation. Call additional methods (mode or background) and finalize the operation by calling forPath()</td></tr><tr><td>delete()</td><td>Begins a delete operation. Call additional methods (version or background) and finalize the operation by calling forPath()</td></tr><tr><td>checkExists()</td><td>Begins an operation to check that a ZNode exists. Call additional methods (watch or background) and finalize the operation by calling forPath()</td></tr><tr><td>getData()</td><td>Begins an operation to get a ZNode&#x27;s data. Call additional methods (watch, background or get stat) and finalize the operation by calling forPath()</td></tr><tr><td>setData()</td><td>Begins an operation to set a ZNode&#x27;s data. Call additional methods (version or background) and finalize the operation by calling forPath()</td></tr><tr><td>getChildren()</td><td>Begins an operation to get a ZNode&#x27;s list of children ZNodes. Call additional methods (watch, background or get stat) and finalize the operation by calling forPath()</td></tr><tr><td>transactionOp()</td><td>Used to allocate operations to be used with transaction().</td></tr><tr><td>transaction()</td><td>Atomically submit a set of operations as a transaction.</td></tr><tr><td>getACL()</td><td>Begins an operation to return a ZNode&#x27;s ACL settings. Call additional methods and finalize the operation by calling forPath()</td></tr><tr><td>setACL()</td><td>Begins an operation to set a ZNode&#x27;s ACL settings. Call additional methods and finalize the operation by calling forPath()</td></tr><tr><td>getConfig()</td><td>Begins an operation to return the last committed configuration. Call additional methods and finalize the operation by calling forEnsemble()</td></tr><tr><td>reconfig()</td><td>Begins an operation to change the configuration. Call additional methods and finalize the operation by calling forEnsemble()</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_XIDd" id="notifications">Notifications<a href="#notifications" class="hash-link" aria-label="Direct link to Notifications" title="Direct link to Notifications">​</a></h3>
<p>Notifications for background operations and watches are published via the ClientListener interface. You register listeners with the CuratorFramework instance using the addListener() method. The listener implements two methods:</p>
<table><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody><tr><td>eventReceived()</td><td>A background operation has completed or a watch has triggered. Examine the given event for details</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_XIDd" id="curatorevent">CuratorEvent<a href="#curatorevent" class="hash-link" aria-label="Direct link to CuratorEvent" title="Direct link to CuratorEvent">​</a></h3>
<p>The CuratorEvent object is a super-set POJO that can hold every type of background notification and triggered watch. The useful fields of CuratorEvent depend on the type of event which is exposed via the getType() method.</p>
<table><thead><tr><th>Event Type</th><th>Event Methods</th></tr></thead><tbody><tr><td>CREATE</td><td>getResultCode() and getPath()</td></tr><tr><td>DELETE</td><td>getResultCode() and getPath()</td></tr><tr><td>EXISTS</td><td>getResultCode(), getPath() and getStat()</td></tr><tr><td>GET_DATA</td><td>getResultCode(), getPath(), getStat() and getData()</td></tr><tr><td>SET_DATA</td><td>getResultCode(), getPath() and getStat()</td></tr><tr><td>CHILDREN</td><td>getResultCode(), getPath(), getStat(), getChildren()</td></tr><tr><td>SYNC</td><td>getResultCode(), getStat()</td></tr><tr><td>GET_ACL</td><td>getResultCode(), getACLList()</td></tr><tr><td>SET_ACL</td><td>getResultCode()</td></tr><tr><td>TRANSACTION</td><td>getResultCode(), getOpResults()</td></tr><tr><td>WATCHED</td><td>getWatchedEvent()</td></tr><tr><td>GET_CONFIG</td><td>getResultCode(), getData()</td></tr><tr><td>RECONFIG</td><td>getResultCode(), getData()</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_XIDd" id="namespaces">Namespaces<a href="#namespaces" class="hash-link" aria-label="Direct link to Namespaces" title="Direct link to Namespaces">​</a></h2>
<p>Because a ZooKeeper cluster is a shared environment, it&#x27;s vital that a namespace convention is observed so that various applications that use a given cluster don&#x27;t use conflicting ZK paths.</p>
<p>The CuratorFramework has a concept of a &quot;namespace&quot;. You set the namespace when creating a CuratorFramework instance (via the Builder). The CuratorFramework will then prepend the namespace to all paths when one of its APIs is called. i.e.,</p>
<div class="language-java codeBlockContainer_zg1e theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_dr23"><pre tabindex="0" class="prism-code language-java codeBlock_oepx thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_trqM"><span class="token-line" style="color:#393A34"><span class="token class-name">CuratorFramework</span><span class="token plain"> client </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token class-name">CuratorFrameworkFactory</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">builder</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">namespace</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;MyApp&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">build</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">client</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">create</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">forPath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;/test&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// node was actually written to: &quot;/MyApp/test&quot;</span><br></span></code></pre><div class="buttonGroup_IAv4"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_OqTK" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_soyf"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_z_DP"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_XIDd" id="temporary-connections">Temporary Connections<a href="#temporary-connections" class="hash-link" aria-label="Direct link to Temporary Connections" title="Direct link to Temporary Connections">​</a></h2>
<p>Temporary CuratorFramework instances are meant for single requests to ZooKeeper ensembles over a failure prone network such as a WAN. The APIs available from CuratorTempFramework are limited. Further, the connection will be closed after a period of inactivity.</p>
<p>This is based on an idea mentioned in a post by Camille Fournier: <a href="http://whilefalse.blogspot.com/2012/12/building-global-highly-available.html" target="_blank" rel="noopener noreferrer">http://whilefalse.blogspot.com/2012/12/building-global-highly-available.html</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_XIDd" id="creating-a-curatortempframework">Creating a CuratorTempFramework<a href="#creating-a-curatortempframework" class="hash-link" aria-label="Direct link to Creating a CuratorTempFramework" title="Direct link to Creating a CuratorTempFramework">​</a></h3>
<p>CuratorTempFramework instances are created via the CuratorFrameworkFactory just like normal CuratorFramework instances. However, instead of calling the <code>build()</code> method, call <code>buildTemp()</code>. <code>buildTemp()</code> creates a CuratorTempFramework instance that closes itself after 3 minutes of inactivity. There is an alternate version of <code>buildTemp()</code> that allows you to specify the inactivity period.</p>
<h3 class="anchor anchorWithStickyNavbar_XIDd" id="limited-api">Limited API<a href="#limited-api" class="hash-link" aria-label="Direct link to Limited API" title="Direct link to Limited API">​</a></h3>
<p>CuratorTempFramework instances provide the following methods:</p>
<div class="language-java codeBlockContainer_zg1e theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_dr23"><pre tabindex="0" class="prism-code language-java codeBlock_oepx thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_trqM"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * Stop the client</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain">     </span><span class="token function" style="color:#d73a49">close</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * Start a transaction builder</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * @return builder object</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * @throws Exception errors</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token class-name">CuratorTransaction</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">inTransaction</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">throws</span><span class="token plain"> </span><span class="token class-name">Exception</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * Start a get data builder</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * @return builder object</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * @throws Exception errors</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token class-name">TempGetDataBuilder</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">getData</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">throws</span><span class="token plain"> </span><span class="token class-name">Exception</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_IAv4"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_OqTK" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_soyf"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_z_DP"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/apache/curator-site/tree/main/docs/framework.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Zk3O" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_f5Z0"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-01-22T07:42:22.000Z" itemprop="dateModified">Jan 22, 2025</time></b> by <b>tison</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/schema"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Schema Support</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/utilities"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Utilities</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_uK3U thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#allocating-a-curator-framework-instance" class="table-of-contents__link toc-highlight">Allocating a Curator Framework Instance</a></li><li><a href="#curatorframework-api" class="table-of-contents__link toc-highlight">CuratorFramework API</a><ul><li><a href="#methods" class="table-of-contents__link toc-highlight">Methods</a></li><li><a href="#notifications" class="table-of-contents__link toc-highlight">Notifications</a></li><li><a href="#curatorevent" class="table-of-contents__link toc-highlight">CuratorEvent</a></li></ul></li><li><a href="#namespaces" class="table-of-contents__link toc-highlight">Namespaces</a></li><li><a href="#temporary-connections" class="table-of-contents__link toc-highlight">Temporary Connections</a><ul><li><a href="#creating-a-curatortempframework" class="table-of-contents__link toc-highlight">Creating a CuratorTempFramework</a></li><li><a href="#limited-api" class="table-of-contents__link toc-highlight">Limited API</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://www.apache.org/" rel="noopener noreferrer" class="footerLogoLink_fuMK"><img src="/img/asf-logo.svg" alt="Apache logo" class="footer__logo themedComponent_m3XX themedComponent--light_pEIZ" height="128px"><img src="/img/asf-logo.svg" alt="Apache logo" class="footer__logo themedComponent_m3XX themedComponent--dark_s0QP" height="128px"></a></div><div class="footer__copyright">Apache Curator, the Apache feather logo, and the Apache Curator project logos are trademarks of The Apache Software Foundation. All other marks mentioned may be trademarks or registered trademarks of their respective owners.</div></div></div></footer></div>
</body>
</html>