"use strict";(self.webpackChunkcurator_site=self.webpackChunkcurator_site||[]).push([[9837],{3548:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>c,contentTitle:()=>i,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"async","title":"Curator Async","description":"Packaging","source":"@site/docs/async.md","sourceDirName":".","slug":"/async","permalink":"/docs/async","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/curator-site/tree/main/docs/async.md","tags":[],"version":"current","lastUpdatedBy":"tison","lastUpdatedAt":1740614244000,"frontMatter":{},"sidebar":"docs","previous":{"title":"Simple Distributed Queue","permalink":"/docs/recipes-simple-distributed-queue"},"next":{"title":"Strongly Typed Models","permalink":"/docs/modeled"}}');var r=n(5105),t=n(6413);const o={},i="Curator Async",c={},l=[{value:"Packaging",id:"packaging",level:2},{value:"What Is Curator Async?",id:"what-is-curator-async",level:2},{value:"Curator Async",id:"curator-async-1",level:2},{value:"Modeled Curator",id:"modeled-curator",level:2},{value:"Migrations",id:"migrations",level:2}];function d(e){const a={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.header,{children:(0,r.jsx)(a.h1,{id:"curator-async",children:"Curator Async"})}),"\n",(0,r.jsx)(a.h2,{id:"packaging",children:"Packaging"}),"\n",(0,r.jsx)(a.p,{children:"Curator Async is in its own package in Maven Central: curator-x-async"}),"\n",(0,r.jsx)(a.h2,{id:"what-is-curator-async",children:"What Is Curator Async?"}),"\n",(0,r.jsxs)(a.p,{children:["Curator Async is a ",(0,r.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Domain-specific_language",children:"DSL"})," that wraps existing ",(0,r.jsx)(a.code,{children:"CuratorFramework"})," instances. This DSL is entirely asynchronous and uses ",(0,r.jsx)(a.a,{href:"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletionStage.html",children:"Java 8's CompletionStage"})," mechanism for chaining, composing, etc. Additionally, Curator's original DSL has been cleaned up and simplified, in particular for operations such as ",(0,r.jsx)(a.code,{children:"create()"}),"."]}),"\n",(0,r.jsxs)(a.p,{children:["With this DSL you can do asynchronous tasks in a more natural, functional way using ",(0,r.jsx)(a.a,{href:"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html",children:"Java 8 lambdas"}),"."]}),"\n",(0,r.jsx)(a.p,{children:"The Curator Async package also contains a strongly typed DSL and strongly typed Cache Recipe wrappers that allows you to map a ZooKeeper path to a serializable class as opposed to raw byte arrays."}),"\n",(0,r.jsx)(a.h2,{id:"curator-async-1",children:(0,r.jsx)(a.a,{href:"/docs/async-details",children:"Curator Async"})}),"\n",(0,r.jsx)(a.p,{children:"With this DSL you can do asynchronous tasks in a more natural, functional way using Java 8 lambdas. For example:"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-java",children:'// let "client" be a CuratorFramework instance\nAsyncCuratorFramework async = AsyncCuratorFramework.wrap(client);\nasync.checkExists().forPath(somePath).thenAccept(stat -> mySuccessOperation(stat));\n'})}),"\n",(0,r.jsxs)(a.p,{children:["See ",(0,r.jsx)(a.a,{href:"/docs/async-details",children:"Curator Async"})," for details."]}),"\n",(0,r.jsx)(a.h2,{id:"modeled-curator",children:(0,r.jsx)(a.a,{href:"/docs/modeled",children:"Modeled Curator"})}),"\n",(0,r.jsx)(a.p,{children:"This is a strongly typed DSL that allows you to map a Curator-style client to:"}),"\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsx)(a.li,{children:"A ZooKeeper path (supporting parameterized substitutions)"}),"\n",(0,r.jsx)(a.li,{children:"A serializer for the data stored at the path"}),"\n",(0,r.jsx)(a.li,{children:"Options for how nodes should be created (sequential, compressed data, ttl, etc.)"}),"\n",(0,r.jsx)(a.li,{children:"ACLs for the nodes at the path"}),"\n",(0,r.jsx)(a.li,{children:"Options for how to delete nodes (guaranteed, deleting children, etc.)"}),"\n"]}),"\n",(0,r.jsx)(a.p,{children:"For example:"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-java",children:"ModeledFramework<Foo> modeled = ModeledFramework.wrap(client, fooModelSpec);\nmodeled.set(new Foo());\n"})}),"\n",(0,r.jsxs)(a.p,{children:["See ",(0,r.jsx)(a.a,{href:"/docs/modeled",children:"Modeled Curator"})," for details."]}),"\n",(0,r.jsx)(a.h2,{id:"migrations",children:(0,r.jsx)(a.a,{href:"/docs/migrations",children:"Migrations"})}),"\n",(0,r.jsx)(a.p,{children:"Curator Migrations allow you pre-apply transactions in a staged manner so that you can ensure a consistent state for parts of your ZooKeeper node hierarchy in a manner similar to database migration utilities."}),"\n",(0,r.jsxs)(a.p,{children:["See ",(0,r.jsx)(a.a,{href:"/docs/migrations",children:"Migrations"})," for details."]})]})}function h(e={}){const{wrapper:a}={...(0,t.R)(),...e.components};return a?(0,r.jsx)(a,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},6413:(e,a,n)=>{n.d(a,{R:()=>o,x:()=>i});var s=n(8101);const r={},t=s.createContext(r);function o(e){const a=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function i(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(t.Provider,{value:a},e.children)}}}]);