"use strict";(self.webpackChunkcurator_site=self.webpackChunkcurator_site||[]).push([[8861],{689:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>h,contentTitle:()=>a,default:()=>d,frontMatter:()=>o,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"new-committers","title":"New Committers","description":"Onboarding","source":"@site/community/new-committers.md","sourceDirName":".","slug":"/new-committers","permalink":"/community/new-committers","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/curator-site/tree/main/community/new-committers.md","tags":[],"version":"current","frontMatter":{},"sidebar":"community","previous":{"title":"Submitting Pull Requests","permalink":"/community/submitting-pull-requests"},"next":{"title":"Releasing Curator","permalink":"/community/releasing-curator"}}');var n=s(5105),i=s(6413);const o={},a="New Committers",h={},l=[{value:"Onboarding",id:"onboarding",level:2},{value:"Setting up",id:"setting-up",level:2},{value:"GPG",id:"gpg",level:3},{value:"Maven Settings",id:"maven-settings",level:3},{value:"SVN Setup",id:"svn-setup",level:3},{value:"Development",id:"development",level:2},{value:"GitHub Flow",id:"github-flow",level:3},{value:"Code Style",id:"code-style",level:4},{value:"Versioning",id:"versioning",level:3},{value:"GitHub Mirror and Pull Requests",id:"github-mirror-and-pull-requests",level:3},{value:"Maven Checks",id:"maven-checks",level:3}];function c(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.header,{children:(0,n.jsx)(t.h1,{id:"new-committers",children:"New Committers"})}),"\n",(0,n.jsx)(t.h2,{id:"onboarding",children:"Onboarding"}),"\n",(0,n.jsx)(t.p,{children:"Welcome to Apache Curator!"}),"\n",(0,n.jsx)(t.p,{children:"For new committers,"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["An Apache account will have been set up for you. Subscribe to all the Curator mailing lists by going ",(0,n.jsx)(t.a,{href:"/community/#mailing-list",children:"here"})]}),"\n",(0,n.jsxs)(t.li,{children:["Have a look at the general information on the Apache committers' page: ",(0,n.jsx)(t.a,{href:"http://www.apache.org/dev/#committers",children:"http://www.apache.org/dev/#committers"})]}),"\n",(0,n.jsxs)(t.li,{children:["Make sure to ",(0,n.jsx)(t.code,{children:"svn checkout"})," the ASF committers repository: ",(0,n.jsx)(t.a,{href:"https://svn.apache.org/repos/private/committers",children:"https://svn.apache.org/repos/private/committers"})]}),"\n",(0,n.jsxs)(t.li,{children:["Add an entry for yourself to ",(0,n.jsx)(t.a,{href:"https://svn.apache.org/repos/private/committers/info/",children:"https://svn.apache.org/repos/private/committers/info/"}),". The information there is used to generate the public information about ASF committers on the people.apache.org home page: ",(0,n.jsx)(t.a,{href:"http://people.apache.org/",children:"http://people.apache.org/"})]}),"\n",(0,n.jsx)(t.li,{children:"Prepare for being a committer. See the next section."}),"\n"]}),"\n",(0,n.jsxs)(t.p,{children:["As your first commit, add yourself to the committers list in ",(0,n.jsx)(t.a,{href:"https://github.com/apache/curator-site/blob/main/src/components/Committers/index.tsx",children:"the site source file"}),". This will make your name show up in the ",(0,n.jsx)(t.a,{href:"https://curator.apache.org/community/team",children:"team list"})," when the website is generated triggered by new commit."]}),"\n",(0,n.jsx)(t.p,{children:"As always, do not hesitate to ask if you have any questions or have problems with your account."}),"\n",(0,n.jsx)(t.h2,{id:"setting-up",children:"Setting up"}),"\n",(0,n.jsx)(t.p,{children:"Curator is built using Maven and Git. You should be familiar with both of these tools. For publishing, you also need to install GPG and create a key that is available from a well known public site."}),"\n",(0,n.jsx)(t.h3,{id:"gpg",children:"GPG"}),"\n",(0,n.jsxs)(t.p,{children:["Download GPG from ",(0,n.jsx)(t.a,{href:"http://www.gnupg.org/download/",children:"http://www.gnupg.org/download/"}),"."]}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["Generate ",(0,n.jsx)(t.a,{href:"http://www.apache.org/dev/release-signing.html#generate",children:"PGP code signing keys"})]}),"\n",(0,n.jsxs)(t.li,{children:["Ensure that your ",(0,n.jsx)(t.a,{href:"http://www.apache.org/dev/release-signing.html#generate",children:"PGP signing keys"})," are available in the KEYS file that is in the release directory (see ",(0,n.jsx)(t.a,{href:"#svn-setup",children:"SVN Setup"}),")."]}),"\n"]}),"\n",(0,n.jsxs)(t.p,{children:["If you are not already a member of the ",(0,n.jsx)(t.a,{href:"http://www.apache.org/dev/release-signing.html#web-of-trust",children:"Web Of Trust"})," (WOT) it would be a good idea to do so. You can read more about key signing ",(0,n.jsx)(t.a,{href:"http://people.apache.org/~henkp/sig/pgp-key-signing.txt",children:"here"}),"."]}),"\n",(0,n.jsxs)(t.p,{children:["Ensure that you have set up your ssh keys on people.apache.org, otherwise you'll have to enter your login password a number of times (best use ssh-agent for this as well). A good overview of this process can be found ",(0,n.jsx)(t.a,{href:"http://www.thegeekstuff.com/2008/11/3-steps-to-perform-ssh-login-without-password-using-ssh-keygen-ssh-copy-id/",children:"here"})," (ssh-copy-id and ssh-agent in particular)."]}),"\n",(0,n.jsx)(t.admonition,{type:"note",children:(0,n.jsx)(t.p,{children:"When doing a release you will be asked for your PGP password multiple times unless you set up the gpg-agent. Mac users have reported trouble getting gpg-agent to work. You can also set your gpg-password in the Maven settings file (see below)."})}),"\n",(0,n.jsx)(t.h3,{id:"maven-settings",children:"Maven Settings"}),"\n",(0,n.jsxs)(t.p,{children:["Your Maven settings (",(0,n.jsx)(t.code,{children:"~/.m2/settings.xml"}),") file should have the following:"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-xml",children:"<settings>\n    ...\n    <servers>\n        ...\n        <server>\n            <id>apache.website.svnpub</id>\n            <username>Your Apache Username</username>\n            <privateKey>${user.home}/.ssh/id_rsa</privateKey>\n        </server>\n\n        <server>\n            <id>apache.releases.https</id>\n            <username>Your Apache Username</username>\n            <password>APACHE-PASSWORD-ENCODED</password>\n        </server>\n\n        <server>\n            <id>apache.snapshots.https</id>\n            <username>Your Apache Username</username>\n            <password>APACHE-PASSWORD-ENCODED</password>\n        </server>\n        ...\n    </servers>\n\n    <profiles>\n        <profile>\n            <properties>\n                ...\n    \t        <gpg.keyname>id-of-your-pgp-key</gpg.keyname>\n                <gpg.passphrase>your-pgp-password</gpg.passphrase> \x3c!-- use this if pgp-agent doesn't work for you --\x3e\n                ...\n            </properties>\n            ...\n        </profile>\n        ...\n    </profiles>\n    ...\n</settings>\n"})}),"\n",(0,n.jsx)(t.admonition,{type:"note",children:(0,n.jsxs)(t.p,{children:["You can store encrypted passwords your settings.xml if you want. Read the details here: ",(0,n.jsx)(t.a,{href:"http://maven.apache.org/guides/mini/guide-encryption.html",children:"http://maven.apache.org/guides/mini/guide-encryption.html"})]})}),"\n",(0,n.jsx)(t.h3,{id:"svn-setup",children:"SVN Setup"}),"\n",(0,n.jsx)(t.p,{children:"While Curator mainly uses git for source control, certain components required by Apache use SVN. You should check out the following SVN projects into unique local directories:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["Staging directory: svn co ",(0,n.jsx)(t.a,{href:"https://dist.apache.org/repos/dist/dev/curator/",children:"https://dist.apache.org/repos/dist/dev/curator/"})]}),"\n",(0,n.jsxs)(t.li,{children:["Release directory: svn co ",(0,n.jsx)(t.a,{href:"https://dist.apache.org/repos/dist/release/curator/",children:"https://dist.apache.org/repos/dist/release/curator/"})]}),"\n"]}),"\n",(0,n.jsxs)(t.p,{children:["You must add your GPG key to the KEYS file in ",(0,n.jsx)(t.code,{children:"repos/dist/release/curator/"})," and commit the changes. E.g. (replace NAME with the username you used to generate the keys):"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-shell",children:'cd DIST RELEASE CURATOR directory\n(gpg --list-sigs NAME && gpg --armor --export NAME) >> KEYS\nsvn commit -m "Added my keys"\n'})}),"\n",(0,n.jsx)(t.h2,{id:"development",children:"Development"}),"\n",(0,n.jsx)(t.h3,{id:"github-flow",children:"GitHub Flow"}),"\n",(0,n.jsxs)(t.p,{children:["Curator loosely uses ",(0,n.jsx)(t.a,{href:"https://scottchacon.com/2011/08/31/github-flow",children:"GitHub Flow"}),". The short form:"]}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"Anything in the master branch is deployable"}),"\n",(0,n.jsx)(t.li,{children:'The upcoming release is always "master"'}),"\n",(0,n.jsxs)(t.li,{children:["To work on something new, create a descriptively named branch off of the upcoming release - usually the ID of the GitHub issue (e.g. CURATOR-16)","\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"Commit to that branch locally and regularly push your work to the same named branch on the server"}),"\n",(0,n.jsxs)(t.li,{children:["When you need feedback or help, or you think the branch is ready for merging, send an email on ",(0,n.jsx)(t.a,{href:"mailto:dev@curator.apache.org",children:"dev@curator.apache.org"})," and ask for the branch to be reviewed"]}),"\n",(0,n.jsx)(t.li,{children:'After someone else has reviewed and signed off on the feature, merge it into "master"'}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(t.h4,{id:"code-style",children:"Code Style"}),"\n",(0,n.jsxs)(t.p,{children:["Curator uses ",(0,n.jsx)(t.a,{href:"https://github.com/diffplug/spotless",children:"Spotless"})," to automatically apply code style. The configured style is derived from the ",(0,n.jsx)(t.a,{href:"https://github.com/palantir/palantir-java-format",children:"Palantir"})," style."]}),"\n",(0,n.jsx)(t.p,{children:"You can run the following command to automatically apply code style:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-shell",children:"./mvnw spotless:apply\n"})}),"\n",(0,n.jsx)(t.h3,{id:"versioning",children:"Versioning"}),"\n",(0,n.jsxs)(t.p,{children:["Curator uses ",(0,n.jsx)(t.a,{href:"http://semver.org/",children:"semantic versioning"}),". The best description of this is from Curator committer ",(0,n.jsx)(t.a,{href:"http://www.quora.com/What-is-semantic-versioning",children:"Eric Tschetter"}),":"]}),"\n",(0,n.jsxs)(t.admonition,{type:"info",children:[(0,n.jsx)(t.p,{children:"Essentially, it tells you the API compatibility between multiple dependencies. For example,"}),(0,n.jsx)(t.p,{children:"If you have version 1.0.0 and 1.0.1, you can use either one and you will not run into errors due to API conflicts (i.e. in Java, no ClassNotFound or NoSuchMethod type exceptions)"}),(0,n.jsxs)(t.p,{children:["If you have 1.0.0 and 1.1.0, you can replace 1.0.0 with 1.1.0, and you will not have errors due to API conflicts. If you try to swap 1.0.0 in place of something that depends on 1.1.0, however, you ",(0,n.jsx)(t.em,{children:"might"})," have errors due to API conflicts. I.e. you can go forward without errors, but not backwards"]}),(0,n.jsx)(t.p,{children:"If you have 1.0.0 and 2.0.0, you will likely have errors due to API conflicts if you replace either one with the other."})]}),"\n",(0,n.jsx)(t.p,{children:'Make sure you choose an appropriate version for each release. The Maven build will output messages if there are API compatibility issues (look for the "clirr-maven-plugin" messages).'}),"\n",(0,n.jsx)(t.h3,{id:"github-mirror-and-pull-requests",children:"GitHub Mirror and Pull Requests"}),"\n",(0,n.jsxs)(t.p,{children:["Curator's source is mirrored on GitHub at: ",(0,n.jsx)(t.a,{href:"https://github.com/apache/curator",children:"https://github.com/apache/curator"}),". Non-committers are ",(0,n.jsx)(t.a,{href:"/community/submitting-pull-requests",children:"asked to fork this repository and submit pull requests"})," (PR) for changes. When a PR is received, a Curator committer can test and possibly merge it by:"]}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["Create a branch for the PR: ",(0,n.jsx)(t.code,{children:"git checkout -b <branch-name>"}),". The branch name is usually the ID of the GitHub issue."]}),"\n",(0,n.jsxs)(t.li,{children:["Pull the changes from the PR: ",(0,n.jsx)(t.code,{children:"git pull https://github.com/<users-name>/curator.git <branch>"})," (or you can use ",(0,n.jsx)(t.code,{children:"gh pr checkout <pr-number>"})," with ",(0,n.jsx)(t.a,{href:"https://cli.github.com/",children:"GitHub CLI"}),")."]}),"\n",(0,n.jsxs)(t.li,{children:["Test, updated, etc. the change. Periodically push the change to the main repo. For the initial push: ",(0,n.jsx)(t.code,{children:"git push -u origin <branch-name>"}),"."]}),"\n",(0,n.jsxs)(t.li,{children:["If the change is accepted, merge it into the master branch and push the master branch. This will automatically close the GitHub PR. NOTE: Please use ",(0,n.jsx)(t.code,{children:"git merge --squash"})," as this makes it easier to read the history and do cherry-pick."]}),"\n"]}),"\n",(0,n.jsx)(t.h3,{id:"maven-checks",children:"Maven Checks"}),"\n",(0,n.jsxs)(t.p,{children:["Regardless of which IDE you use, you should periodically perform a ",(0,n.jsx)(t.code,{children:"./mvnw clean install"})," to validate that the various configured checks are passing as well as the unit tests."]})]})}function d(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},6413:(e,t,s)=>{s.d(t,{R:()=>o,x:()=>a});var r=s(8101);const n={},i=r.createContext(n);function o(e){const t=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:o(e.components),r.createElement(i.Provider,{value:t},e.children)}}}]);