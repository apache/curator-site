"use strict";(self.webpackChunkcurator_site=self.webpackChunkcurator_site||[]).push([[7227],{9613:(e,t,r)=>{r.d(t,{Zo:()=>p,kt:()=>f});var n=r(9496);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var s=n.createContext({}),l=function(e){var t=n.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):c(c({},t),e)),r},p=function(e){var t=l(e.components);return n.createElement(s.Provider,{value:t},e.children)},u="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),u=l(r),d=a,f=u["".concat(s,".").concat(d)]||u[d]||h[d]||o;return r?n.createElement(f,c(c({ref:t},p),{},{components:r})):n.createElement(f,c({ref:t},p))}));function f(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,c=new Array(o);c[0]=d;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i[u]="string"==typeof e?e:a,c[1]=i;for(var l=2;l<o;l++)c[l]=r[l];return n.createElement.apply(null,c)}return n.createElement.apply(null,r)}d.displayName="MDXCreateElement"},9625:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>l});var n=r(7263),a=(r(9496),r(9613));const o={},c="Tech Note 9",i={unversionedId:"tech-note-09",id:"tech-note-09",title:"Tech Note 9",description:"NOTE: PathChildrenCache now uses getData() instead of checkExists().",source:"@site/docs/tech-note-09.md",sourceDirName:".",slug:"/tech-note-09",permalink:"/docs/tech-note-09",draft:!1,editUrl:"https://github.com/apache/curator-site/tree/main/docs/tech-note-09.md",tags:[],version:"current",lastUpdatedBy:"dependabot[bot]",lastUpdatedAt:1718429330,formattedLastUpdatedAt:"Jun 15, 2024",frontMatter:{},sidebar:"docs",previous:{title:"Tech Note 8",permalink:"/docs/tech-note-08"},next:{title:"Tech Note 10",permalink:"/docs/tech-note-10"}},s={},l=[],p={toc:l},u="wrapper";function h(e){let{components:t,...r}=e;return(0,a.kt)(u,(0,n.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"tech-note-9"},"Tech Note 9"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"NOTE: PathChildrenCache now uses getData() instead of checkExists().")),(0,a.kt)("p",null,'Curator 2.5.0 changes internal behavior for PathChildrenCache. Now, regardless of whether "cacheData" is set to true, PathChildrenCache will always call getData on the nodes.'),(0,a.kt)("p",null,"This is due to ",(0,a.kt)("a",{parentName:"p",href:"https://issues.apache.org/jira/browse/CURATOR-107"},"CURATOR-107"),". It's been shown that using ",(0,a.kt)("inlineCode",{parentName:"p"},"checkExists()")," with watchers can cause a type of memory leak as watchers will be left dangling on non-existent ZNodes. Calling ",(0,a.kt)("inlineCode",{parentName:"p"},"getData()")," works around this issue."),(0,a.kt)("p",null,"However, it's possible that this change will affect performance. If you would like the old behavior of using ",(0,a.kt)("inlineCode",{parentName:"p"},"checkExists()"),", you can set a system property: add ",(0,a.kt)("inlineCode",{parentName:"p"},"-Dcurator-path-children-cache-use-exists=true")," to your command line or call ",(0,a.kt)("inlineCode",{parentName:"p"},'System.setProperty("curator-path-children-cache-use-exists", "true")'),"."))}h.isMDXComponent=!0}}]);