<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (21) -->
<title>LeaderLatch (Apache Curator 5.6.1-SNAPSHOT API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.apache.curator.framework.recipes.leader, class: LeaderLatch">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/LeaderLatch.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li><a href="#nested-class-summary">Nested</a></li>
<li>Field</li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.apache.curator.framework.recipes.leader</a></div>
<h1 title="Class LeaderLatch" class="title">Class LeaderLatch</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">org.apache.curator.framework.recipes.leader.LeaderLatch</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/Closeable.html" title="class or interface in java.io" class="external-link">Closeable</a></code>, <code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html" title="class or interface in java.lang" class="external-link">AutoCloseable</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">LeaderLatch</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="https://docs.oracle.com/javase/8/docs/api/java/io/Closeable.html" title="class or interface in java.io" class="external-link">Closeable</a></span></div>
<div class="block"><p>
 Abstraction to select a "leader" amongst multiple contenders in a group of JVMs connected to
 a Zookeeper cluster. If a group of N thread/processes contend for leadership one will
 randomly be assigned leader until it releases leadership at which time another one from the
 group will randomly be chosen
 </p></div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static enum&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="LeaderLatch.CloseMode.html" class="type-name-link" title="enum in org.apache.curator.framework.recipes.leader">LeaderLatch.CloseMode</a></code></div>
<div class="col-last even-row-color">
<div class="block">How to handle listeners when the latch is closed</div>
</div>
<div class="col-first odd-row-color"><code>static enum&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="LeaderLatch.State.html" class="type-name-link" title="enum in org.apache.curator.framework.recipes.leader">LeaderLatch.State</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(org.apache.curator.framework.CuratorFramework,java.lang.String)" class="member-name-link">LeaderLatch</a><wbr>(<a href="../../CuratorFramework.html" title="interface in org.apache.curator.framework">CuratorFramework</a>&nbsp;client,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;latchPath)</code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(org.apache.curator.framework.CuratorFramework,java.lang.String,java.lang.String)" class="member-name-link">LeaderLatch</a><wbr>(<a href="../../CuratorFramework.html" title="interface in org.apache.curator.framework">CuratorFramework</a>&nbsp;client,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;latchPath,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;id)</code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(org.apache.curator.framework.CuratorFramework,java.lang.String,java.lang.String,org.apache.curator.framework.recipes.leader.LeaderLatch.CloseMode)" class="member-name-link">LeaderLatch</a><wbr>(<a href="../../CuratorFramework.html" title="interface in org.apache.curator.framework">CuratorFramework</a>&nbsp;client,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;latchPath,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;id,
 <a href="LeaderLatch.CloseMode.html" title="enum in org.apache.curator.framework.recipes.leader">LeaderLatch.CloseMode</a>&nbsp;closeMode)</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addListener(org.apache.curator.framework.recipes.leader.LeaderLatchListener)" class="member-name-link">addListener</a><wbr>(<a href="LeaderLatchListener.html" title="interface in org.apache.curator.framework.recipes.leader">LeaderLatchListener</a>&nbsp;listener)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Attaches a listener to this LeaderLatch</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addListener(org.apache.curator.framework.recipes.leader.LeaderLatchListener,java.util.concurrent.Executor)" class="member-name-link">addListener</a><wbr>(<a href="LeaderLatchListener.html" title="interface in org.apache.curator.framework.recipes.leader">LeaderLatchListener</a>&nbsp;listener,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executor.html" title="class or interface in java.util.concurrent" class="external-link">Executor</a>&nbsp;executor)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Attaches a listener to this LeaderLatch</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#await()" class="member-name-link">await</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Causes the current thread to wait until this instance acquires leadership
 unless the thread is <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html#interrupt--" title="class or interface in java.lang" class="external-link">interrupted</a> or <a href="#close()">closed</a>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#await(long,java.util.concurrent.TimeUnit)" class="member-name-link">await</a><wbr>(long&nbsp;timeout,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/TimeUnit.html" title="class or interface in java.util.concurrent" class="external-link">TimeUnit</a>&nbsp;unit)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Causes the current thread to wait until this instance acquires leadership
 unless the thread is <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html#interrupt--" title="class or interface in java.lang" class="external-link">interrupted</a>,
 the specified waiting time elapses or the instance is <a href="#close()">closed</a>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#cancelStartTask()" class="member-name-link">cancelStartTask</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#close()" class="member-name-link">close</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Remove this instance from the leadership election.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#close(org.apache.curator.framework.recipes.leader.LeaderLatch.CloseMode)" class="member-name-link">close</a><wbr>(<a href="LeaderLatch.CloseMode.html" title="enum in org.apache.curator.framework.recipes.leader">LeaderLatch.CloseMode</a>&nbsp;closeMode)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Remove this instance from the leadership election.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getId()" class="member-name-link">getId</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Return this instance's participant Id</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getLastPathIsLeader()" class="member-name-link">getLastPathIsLeader</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Return last of this instance's lock node path that was leader ever.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Participant.html" title="class in org.apache.curator.framework.recipes.leader">Participant</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getLeader()" class="member-name-link">getLeader</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">
 Return the id for the current leader.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getOurPath()" class="member-name-link">getOurPath</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Return this instance's lock node path.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a><wbr>&lt;<a href="Participant.html" title="class in org.apache.curator.framework.recipes.leader">Participant</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getParticipants()" class="member-name-link">getParticipants</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">
 Returns the set of current participants in the leader selection</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="LeaderLatch.State.html" title="enum in org.apache.curator.framework.recipes.leader">LeaderLatch.State</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getState()" class="member-name-link">getState</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns this instances current state, this is the only way to verify that the object has been closed before
 closing again.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#handleStateChange(org.apache.curator.framework.state.ConnectionState)" class="member-name-link">handleStateChange</a><wbr>(<a href="../../state/ConnectionState.html" title="enum in org.apache.curator.framework.state">ConnectionState</a>&nbsp;newState)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#hasLeadership()" class="member-name-link">hasLeadership</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Return true if leadership is currently held by this instance</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeListener(org.apache.curator.framework.recipes.leader.LeaderLatchListener)" class="member-name-link">removeListener</a><wbr>(<a href="LeaderLatchListener.html" title="interface in org.apache.curator.framework.recipes.leader">LeaderLatchListener</a>&nbsp;listener)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Removes a given listener from this LeaderLatch</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#start()" class="member-name-link">start</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Add this instance to the leadership election and attempt to acquire leadership.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#clone--" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#equals-java.lang.Object-" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#finalize--" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#getClass--" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#hashCode--" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notify--" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notifyAll--" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString--" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait--" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait-long-" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait-long-int-" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(org.apache.curator.framework.CuratorFramework,java.lang.String)">
<h3>LeaderLatch</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">LeaderLatch</span><wbr><span class="parameters">(<a href="../../CuratorFramework.html" title="interface in org.apache.curator.framework">CuratorFramework</a>&nbsp;client,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;latchPath)</span></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>client</code> - the client</dd>
<dd><code>latchPath</code> - the path for this leadership group</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(org.apache.curator.framework.CuratorFramework,java.lang.String,java.lang.String)">
<h3>LeaderLatch</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">LeaderLatch</span><wbr><span class="parameters">(<a href="../../CuratorFramework.html" title="interface in org.apache.curator.framework">CuratorFramework</a>&nbsp;client,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;latchPath,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;id)</span></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>client</code> - the client</dd>
<dd><code>latchPath</code> - the path for this leadership group</dd>
<dd><code>id</code> - participant ID</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(org.apache.curator.framework.CuratorFramework,java.lang.String,java.lang.String,org.apache.curator.framework.recipes.leader.LeaderLatch.CloseMode)">
<h3>LeaderLatch</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">LeaderLatch</span><wbr><span class="parameters">(<a href="../../CuratorFramework.html" title="interface in org.apache.curator.framework">CuratorFramework</a>&nbsp;client,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;latchPath,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;id,
 <a href="LeaderLatch.CloseMode.html" title="enum in org.apache.curator.framework.recipes.leader">LeaderLatch.CloseMode</a>&nbsp;closeMode)</span></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>client</code> - the client</dd>
<dd><code>latchPath</code> - the path for this leadership group</dd>
<dd><code>id</code> - participant ID</dd>
<dd><code>closeMode</code> - behaviour of listener on explicit close.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="start()">
<h3>start</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">start</span>()
           throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></span></div>
<div class="block">Add this instance to the leadership election and attempt to acquire leadership.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></code> - errors</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="close()">
<h3>close</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">close</span>()
           throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Remove this instance from the leadership election. If this instance is the leader, leadership
 is released. IMPORTANT: the only way to release leadership is by calling close(). All LeaderLatch
 instances must eventually be closed.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html#close--" title="class or interface in java.lang" class="external-link">close</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html" title="class or interface in java.lang" class="external-link">AutoCloseable</a></code></dd>
<dt>Specified by:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/Closeable.html#close--" title="class or interface in java.io" class="external-link">close</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/Closeable.html" title="class or interface in java.io" class="external-link">Closeable</a></code></dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - errors</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="close(org.apache.curator.framework.recipes.leader.LeaderLatch.CloseMode)">
<h3>close</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">close</span><wbr><span class="parameters">(<a href="LeaderLatch.CloseMode.html" title="enum in org.apache.curator.framework.recipes.leader">LeaderLatch.CloseMode</a>&nbsp;closeMode)</span>
           throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Remove this instance from the leadership election. If this instance is the leader, leadership
 is released. IMPORTANT: the only way to release leadership is by calling close(). All LeaderLatch
 instances must eventually be closed.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>closeMode</code> - allows the default close mode to be overridden at the time the latch is closed.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - errors</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="cancelStartTask()">
<h3>cancelStartTask</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">cancelStartTask</span>()</div>
</section>
</li>
<li>
<section class="detail" id="addListener(org.apache.curator.framework.recipes.leader.LeaderLatchListener)">
<h3>addListener</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">addListener</span><wbr><span class="parameters">(<a href="LeaderLatchListener.html" title="interface in org.apache.curator.framework.recipes.leader">LeaderLatchListener</a>&nbsp;listener)</span></div>
<div class="block">Attaches a listener to this LeaderLatch
 <p>
 Attaching the same listener multiple times is a noop from the second time on.
 </p><p>
 All methods for the listener are run using the provided Executor.  It is common to pass in a single-threaded
 executor so that you can be certain that listener methods are called in sequence, but if you are fine with
 them being called out of order you are welcome to use multiple threads.
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>listener</code> - the listener to attach</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addListener(org.apache.curator.framework.recipes.leader.LeaderLatchListener,java.util.concurrent.Executor)">
<h3>addListener</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">addListener</span><wbr><span class="parameters">(<a href="LeaderLatchListener.html" title="interface in org.apache.curator.framework.recipes.leader">LeaderLatchListener</a>&nbsp;listener,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executor.html" title="class or interface in java.util.concurrent" class="external-link">Executor</a>&nbsp;executor)</span></div>
<div class="block">Attaches a listener to this LeaderLatch
 <p>
 Attaching the same listener multiple times is a noop from the second time on.
 </p><p>
 All methods for the listener are run using the provided Executor.  It is common to pass in a single-threaded
 executor so that you can be certain that listener methods are called in sequence, but if you are fine with
 them being called out of order you are welcome to use multiple threads.
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>listener</code> - the listener to attach</dd>
<dd><code>executor</code> - An executor to run the methods for the listener on.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeListener(org.apache.curator.framework.recipes.leader.LeaderLatchListener)">
<h3>removeListener</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">removeListener</span><wbr><span class="parameters">(<a href="LeaderLatchListener.html" title="interface in org.apache.curator.framework.recipes.leader">LeaderLatchListener</a>&nbsp;listener)</span></div>
<div class="block">Removes a given listener from this LeaderLatch</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>listener</code> - the listener to remove</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="await()">
<h3>await</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">await</span>()
           throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html" title="class or interface in java.lang" class="external-link">InterruptedException</a>,
<a href="https://docs.oracle.com/javase/8/docs/api/java/io/EOFException.html" title="class or interface in java.io" class="external-link">EOFException</a></span></div>
<div class="block"><p>Causes the current thread to wait until this instance acquires leadership
 unless the thread is <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html#interrupt--" title="class or interface in java.lang" class="external-link">interrupted</a> or <a href="#close()">closed</a>.</p>
 <p>If this instance already is the leader then this method returns immediately.</p>
 <p></p>
 <p>Otherwise the current
 thread becomes disabled for thread scheduling purposes and lies
 dormant until one of three things happen:</p>
 <ul>
 <li>This instance becomes the leader</li>
 <li>Some other thread <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html#interrupt--" title="class or interface in java.lang" class="external-link">interrupts</a>
 the current thread</li>
 <li>The instance is <a href="#close()">closed</a></li>
 </ul>
 <p>If the current thread:</p>
 <ul>
 <li>has its interrupted status set on entry to this method; or
 <li>is <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html#interrupt--" title="class or interface in java.lang" class="external-link">interrupted</a> while waiting,
 </ul>
 <p>then <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html" title="class or interface in java.lang" class="external-link"><code>InterruptedException</code></a> is thrown and the current thread's
 interrupted status is cleared.</p></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html" title="class or interface in java.lang" class="external-link">InterruptedException</a></code> - if the current thread is interrupted
                              while waiting</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/EOFException.html" title="class or interface in java.io" class="external-link">EOFException</a></code> - if the instance is <a href="#close()">closed</a>
                              while waiting</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="await(long,java.util.concurrent.TimeUnit)">
<h3>await</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">await</span><wbr><span class="parameters">(long&nbsp;timeout,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/TimeUnit.html" title="class or interface in java.util.concurrent" class="external-link">TimeUnit</a>&nbsp;unit)</span>
              throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html" title="class or interface in java.lang" class="external-link">InterruptedException</a></span></div>
<div class="block"><p>Causes the current thread to wait until this instance acquires leadership
 unless the thread is <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html#interrupt--" title="class or interface in java.lang" class="external-link">interrupted</a>,
 the specified waiting time elapses or the instance is <a href="#close()">closed</a>.</p>
 <p></p>
 <p>If this instance already is the leader then this method returns immediately
 with the value <code>true</code>.</p>
 <p></p>
 <p>Otherwise the current
 thread becomes disabled for thread scheduling purposes and lies
 dormant until one of four things happen:</p>
 <ul>
 <li>This instance becomes the leader</li>
 <li>Some other thread <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html#interrupt--" title="class or interface in java.lang" class="external-link">interrupts</a>
 the current thread</li>
 <li>The specified waiting time elapses.</li>
 <li>The instance is <a href="#close()">closed</a></li>
 </ul>
 <p></p>
 <p>If the current thread:</p>
 <ul>
 <li>has its interrupted status set on entry to this method; or
 <li>is <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html#interrupt--" title="class or interface in java.lang" class="external-link">interrupted</a> while waiting,
 </ul>
 <p>then <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html" title="class or interface in java.lang" class="external-link"><code>InterruptedException</code></a> is thrown and the current thread's
 interrupted status is cleared.</p>
 <p></p>
 <p>If the specified waiting time elapses or the instance is <a href="#close()">closed</a>
 then the value <code>false</code> is returned.  If the time is less than or equal to zero, the method
 will not wait at all.</p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>timeout</code> - the maximum time to wait</dd>
<dd><code>unit</code> - the time unit of the <code>timeout</code> argument</dd>
<dt>Returns:</dt>
<dd><code>true</code> if the count reached zero and <code>false</code>
 if the waiting time elapsed before the count reached zero or the instances was closed</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html" title="class or interface in java.lang" class="external-link">InterruptedException</a></code> - if the current thread is interrupted
                              while waiting</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getId()">
<h3>getId</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getId</span>()</div>
<div class="block">Return this instance's participant Id</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>participant Id</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getState()">
<h3>getState</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="LeaderLatch.State.html" title="enum in org.apache.curator.framework.recipes.leader">LeaderLatch.State</a></span>&nbsp;<span class="element-name">getState</span>()</div>
<div class="block">Returns this instances current state, this is the only way to verify that the object has been closed before
 closing again.  If you try to close a latch multiple times, the close() method will throw an
 IllegalArgumentException which is often not caught and ignored (CloseableUtils.closeQuietly() only looks for
 IOException).</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the state of the current instance</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getParticipants()">
<h3>getParticipants</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;<a href="Participant.html" title="class in org.apache.curator.framework.recipes.leader">Participant</a>&gt;</span>&nbsp;<span class="element-name">getParticipants</span>()
                                        throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></span></div>
<div class="block"><p>
 Returns the set of current participants in the leader selection
 </p>
 <p>
 <p>
 <B>NOTE</B> - this method polls the ZK server. Therefore it can possibly
 return a value that does not match <a href="#hasLeadership()"><code>hasLeadership()</code></a> as hasLeadership
 uses a local field of the class.
 </p></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>participants</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></code> - ZK errors, interruptions, etc.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getLeader()">
<h3>getLeader</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Participant.html" title="class in org.apache.curator.framework.recipes.leader">Participant</a></span>&nbsp;<span class="element-name">getLeader</span>()
                      throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></span></div>
<div class="block"><p>
 Return the id for the current leader. If for some reason there is no
 current leader, a dummy participant is returned.
 </p>
 <p>
 <p>
 <B>NOTE</B> - this method polls the ZK server. Therefore it can possibly
 return a value that does not match <a href="#hasLeadership()"><code>hasLeadership()</code></a> as hasLeadership
 uses a local field of the class.
 </p></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>leader</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></code> - ZK errors, interruptions, etc.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="hasLeadership()">
<h3>hasLeadership</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">hasLeadership</span>()</div>
<div class="block">Return true if leadership is currently held by this instance</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true/false</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getOurPath()">
<h3>getOurPath</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getOurPath</span>()</div>
<div class="block">Return this instance's lock node path. IMPORTANT: this instance
 owns the path returned. This method is meant for reference only. Also,
 it is possible for <code>null</code> to be returned. The path, if any,
 returned is not guaranteed to be valid at any point in the future as internal
 state changes might require the instance to delete and create a new path.
 <p>
 However, the existence of <code>ourPath</code> doesn't mean that this instance
 holds leadership.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>lock node path or <code>null</code></dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="#getLastPathIsLeader()"><code>getLastPathIsLeader()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getLastPathIsLeader()">
<h3>getLastPathIsLeader</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getLastPathIsLeader</span>()</div>
<div class="block">Return last of this instance's lock node path that was leader ever.
 IMPORTANT: this instance owns the path returned. This method is meant for reference only.
 Also, it is possible for <code>null</code> to be returned (for this instance never becomes
 a leader). The path, if any, returned is not guaranteed to be valid at any point in the future
 as internal state changes might require the instance to delete the path.
 <p>
 The existence of <code>lastPathIsLeader</code> means that this instance holds leadership.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>last lock node path that was leader ever or <code>null</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="handleStateChange(org.apache.curator.framework.state.ConnectionState)">
<h3>handleStateChange</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">handleStateChange</span><wbr><span class="parameters">(<a href="../../state/ConnectionState.html" title="enum in org.apache.curator.framework.state">ConnectionState</a>&nbsp;newState)</span></div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2011&#x2013;2023 <a href="https://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
